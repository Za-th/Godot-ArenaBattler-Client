[gd_scene load_steps=16 format=3 uid="uid://camjwr8ycjwlq"]

[ext_resource type="Script" path="res://scripts/GameServer.gd" id="1_tgmm4"]
[ext_resource type="PackedScene" uid="uid://c7rs60udht6e3" path="res://interactables/level_switches/test_level_switch.tscn" id="3_4t4rt"]
[ext_resource type="PackedScene" uid="uid://cxrsevcsew0sh" path="res://interactables/level_switches/tutorial_level_switch.tscn" id="4_ds7nx"]
[ext_resource type="PackedScene" uid="uid://67xgv46v1bqe" path="res://resource_scenes/login.tscn" id="5_m5e5p"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ppiea"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_g8sr5"]
sky_material = SubResource("ProceduralSkyMaterial_ppiea")

[sub_resource type="Environment" id="Environment_jn0d8"]
background_mode = 2
sky = SubResource("Sky_g8sr5")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_bu4cy"]
vertices = PackedVector3Array(9, 0.370181, 0, 50, 0.370181, 0, 50, 0.370181, -2.25, 9, 0.370181, 0, 50, 0.370181, -2.25, 52.5, 0.370181, -2.5, 52.5, 0.370181, -49.5, 9, 0.370181, -49.5, 54.75, 0.370181, -2.25, 61.25, 0.370181, -1.75, 62, 0.370181, -1.75, 62, 0.370181, -49.5, 52.5, 0.370181, -49.5, 52.5, 0.370181, -2.5, 63, 0.370181, -1.5, 63, 0.370181, 0, 108, 0.370181, 0, 62, 0.370181, -1.75, 63, 0.370181, -1.5, 108, 0.370181, 0, 108, 0.370181, -49.5, 62, 0.370181, -49.5, -4.5, 0.370181, -4.5, -4.5, 0.370181, 4.5, 4.5, 0.370181, 4.5, 4.5, 0.370181, -4.5, 55, 0.370181, 2.5, 61.25, 0.370181, 1.75, 60.75, 0.370181, 1.5, 54.75, 0.620181, 1.5, 55, 0.370181, 2.5, 60.75, 0.370181, 1.5, 60.75, 0.370181, -1.5, 54.75, 0.620181, -1.5, 60.75, 0.370181, -1.5, 61.25, 0.370181, -1.75, 54.75, 0.370181, -2.25, 54.75, 0.620181, -1.5, 54.75, 0.620181, -1.5, 49.5, 4.12018, -1.5, 49.5, 4.12018, 1.5, 54.75, 0.620181, 1.5, 50, 0.370181, 2.5, 50, 0.370181, 0, 9, 0.370181, 0, 51.75, 0.370181, 2.75, 50, 0.370181, 2.5, 9, 0.370181, 0, 9, 0.370181, 49.5, 51.5, 0.370181, 49.5, 108, 0.370181, 0, 63, 0.370181, 0, 63, 0.370181, 1.5, 108, 0.370181, 0, 63, 0.370181, 1.5, 62, 0.370181, 1.75, 62, 0.370181, 49.5, 108, 0.370181, 49.5, 62, 0.370181, 1.75, 61.25, 0.370181, 1.75, 55, 0.370181, 2.5, 53.25, 0.370181, 2.75, 53.5, 0.370181, 49.5, 62, 0.370181, 49.5, 51.5, 0.370181, 49.5, 53.5, 0.370181, 49.5, 53.25, 0.370181, 2.75, 51.75, 0.370181, 2.75)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(6, 3, 7), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 13), PackedInt32Array(10, 13, 12), PackedInt32Array(10, 12, 11), PackedInt32Array(16, 15, 14), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 21), PackedInt32Array(19, 21, 20), PackedInt32Array(25, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(29, 33, 30), PackedInt32Array(30, 33, 31), PackedInt32Array(31, 33, 32), PackedInt32Array(37, 36, 34), PackedInt32Array(34, 36, 35), PackedInt32Array(41, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(44, 43, 42), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 49), PackedInt32Array(47, 49, 48), PackedInt32Array(52, 51, 50), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 56), PackedInt32Array(56, 53, 57), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(61, 58, 62), PackedInt32Array(62, 58, 63), PackedInt32Array(67, 66, 64), PackedInt32Array(64, 66, 65)]

[sub_resource type="PlaneMesh" id="PlaneMesh_ibqwb"]
size = Vector2(10, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_f4o06"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_sprlu"]
size = Vector3(100, 1, 100)

[sub_resource type="BoxMesh" id="BoxMesh_otoi2"]
size = Vector3(100, 0, 100)

[sub_resource type="BoxMesh" id="BoxMesh_6vdqi"]

[sub_resource type="BoxShape3D" id="BoxShape3D_s37b0"]
size = Vector3(10, 1, 4)

[sub_resource type="BoxMesh" id="BoxMesh_fqxqf"]
size = Vector3(10, 1, 4)

[node name="Main" type="Node3D"]
script = ExtResource("1_tgmm4")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_jn0d8")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Menu" parent="." instance=ExtResource("5_m5e5p")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_bu4cy")

[node name="Hub Level" type="Node3D" parent="NavigationRegion3D"]

[node name="ClickArea" type="StaticBody3D" parent="NavigationRegion3D/Hub Level"]

[node name="floor" type="MeshInstance3D" parent="NavigationRegion3D/Hub Level/ClickArea"]
mesh = SubResource("PlaneMesh_ibqwb")

[node name="floor_collision" type="CollisionShape3D" parent="NavigationRegion3D/Hub Level/ClickArea"]
shape = SubResource("BoxShape3D_f4o06")

[node name="Interactables" type="Node" parent="NavigationRegion3D/Hub Level"]

[node name="level_switches" type="Node" parent="NavigationRegion3D/Hub Level/Interactables"]

[node name="test_level_switch" parent="NavigationRegion3D/Hub Level/Interactables/level_switches" instance=ExtResource("3_4t4rt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0.1, 0)

[node name="tutorial_level_switch" parent="NavigationRegion3D/Hub Level/Interactables/level_switches" instance=ExtResource("4_ds7nx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.881, 0.1, 0)

[node name="Test Level" type="Node3D" parent="NavigationRegion3D"]

[node name="ClickArea" type="StaticBody3D" parent="NavigationRegion3D/Test Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 58.5073, 0, 0)

[node name="floor_collision" type="CollisionShape3D" parent="NavigationRegion3D/Test Level/ClickArea"]
shape = SubResource("BoxShape3D_sprlu")

[node name="floor" type="MeshInstance3D" parent="NavigationRegion3D/Test Level/ClickArea"]
mesh = SubResource("BoxMesh_otoi2")

[node name="wall" type="MeshInstance3D" parent="NavigationRegion3D/Test Level/ClickArea"]
transform = Transform3D(1.09271, 0, 0, 0, 4.76897, 0, 0, 0, 2.305, 3.43205, 2.04118, 0)
mesh = SubResource("BoxMesh_6vdqi")
skeleton = NodePath("../../..")

[node name="slope_collision" type="CollisionShape3D" parent="NavigationRegion3D/Test Level/ClickArea"]
transform = Transform3D(0.837137, 0.546994, 0, -0.546994, 0.837137, 0, 0, 0, 1, -5.55957, 0.762712, 0)
shape = SubResource("BoxShape3D_s37b0")

[node name="slope" type="MeshInstance3D" parent="NavigationRegion3D/Test Level/ClickArea"]
transform = Transform3D(0.838671, 0.544639, 0, -0.544639, 0.838671, 0, 0, 0, 1, -5.55957, 0.762712, 0)
mesh = SubResource("BoxMesh_fqxqf")

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://resource_scenes/player.tscn")
spawn_path = NodePath("..")

[node name="CreatureSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://creatures/bird.tscn", "res://creatures/cat.tscn", "res://creatures/dog.tscn", "res://creatures/rat.tscn")
spawn_path = NodePath("..")
